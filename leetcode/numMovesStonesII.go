package main

import (
	"fmt"
	"sort"
)

func main() {
	fmt.Println(numMovesStonesII([]int{7,4,9}), []int{1, 2})
	fmt.Println(numMovesStonesII([]int{6,5,4,3,10}), []int{2, 3})
	fmt.Println(numMovesStonesII([]int{100,101,102,103}), []int{0,0})
	fmt.Println(numMovesStonesII([]int{1,3,4,5,7,10}), []int{2, 3})
	fmt.Println(numMovesStonesII([]int{872744873,407745415,920265824,78944478,811582493,159387457,73610667,679739704,934249520,484866256,806947986,515330462,635589397,454065412,623990088,702300851,680116257,956576624,627580519,862260761,535974224,610386154,147996010,995188988,697589181,774334991,975600945,349769864,439419437,759685564,468162177,245675630,618666885,534580630,600325762,986524516,161373519,515248771,925900095,557803426,201601082,982652719,295010345,293049701,338675863,649482376,24971924,518429551,298902749,525841475,207922745,786121605,278541349,171822421,3627955,941822192,327185070,282505850,375060226,263830781,375519322,394162353,159428107,698554237,386248496,401174973,713865493,151618885,43008984,135449254,903873357,926871727,700962,415801910,241575747,913603096,921875839,515695485,801132907,210025056,991525254,776633422,319846045,510206317,433255537,964734911,487539862,958994600,267736477,640426157,348772981,813284734,165097998,328011830,107586878,920355296,822257896,74535996,508877402,55905987,912504311,238858217,101604373,866717345,889976872,236460070,243264031,676579831,222034958,233732642,746488332,719718853,630787678,511639505,672351188,959300625,169663603,191716458,681437267,415179364,252436682,427793128,335408586,585450571,894449031}), []int{124,991560910})
	fmt.Println(numMovesStonesII([]int{657869894,12244197,302751325,391063232,821704902,918351183,911667041,414131481,556158495,532207266,811890152,401118704,474105790,920464458,363136546,386056258,201743030,836389366,341427747,904710546,10486332,810273816,162407523,690627683,544009771,458562152,915779647,609419967,988646785,282973793,755731062,428788915,331696864,537545667,259116972,626979536,66705678,508199183,553069290,357397164,70812533,503055374,281275932,607470943,273721508,98711627,355438226,317282823,887037644,33544596,725648767,910423620,659562563,102975613,410301053,270577340,783671813,320467164,132419591,145017752,431378990,895627342,427491326,4881157,430612097,252239025,462428197,885544373,915733732,394861224,227414693,744456539,146873826,853047835,293397642,646404914,537748775,59240628,107243075,175864951,332646920,151991394,145310246,717594858,183168505,855229914,924068585,424707410,588268820,333200657,963272234,767478262,476978329,82120643,102741737,502318884,196448616,494296559,519240713,933146541,787065481,442087513,395023570,670822247,936299940,291977479,642223474,656756138,41849737,744615877,614964599,931730900,600975530,241659041,959997526,296662469,996527004,925295,412123624,93418083,579719066,138601798,186711784,793452056,584611586,924604160,594706806,379239759,960480213,12497342,960262551,488980218,847208507,113837154,746946482,579036431,233116925,15164692,19786004,652395270,515386889,151979966,153862765,420490333,816122098,715704976,640677969,646450452,492207470,66669180,724119481,462281266,715588566,269043643,581777535,826185790,446312361,482750534,385665509,585575366,974403081,712556125,855620879,914993115,73309756,966452996,391814020,836876435,725077548,884438657,231107505,462640518,159152872,952444128,774103910,812365906,976919329,77814895,845494359,144713496,952037806,62730818,827937948,243019516,86247944,510543024,444844849,244445864,24602318,31565268,424756855,269844681,653776451,904314893,637111473,764242065,672289483,115229310,722731144,83589684,708105586,371390862,388924296,900740971,295386724,546770282,169228448,408611828,561485174,830878334,940268710,727850511,938371740,269430272,703562961,584202498,280875633,836223077,894175549,160253335,508772018,230794730,157487979,805015705,380384451,353383180,659238590,262352218,657868840,108032272,148872446,738190384,848054541,214699132,272329945,350575860,259417791,524474268,788371549,886274433,106166833,564646142,853756288,443025979,216544888,716509686,31127192,532714117,691083599,220158747,956941539,89183049,648975764,889406664,602556673,880501,235576265,547911580,156144500,889011320,383295636,604875514,382986023,365276361,315761471,832192394,787847140,620588641,799903801,870757302,793602780,399234875,723613586,294053422,707222308,387143131,370313091,25874532,763592242,254479300,985993444,551257361,589352036,632713217,31580596,838524590,438599033,730395549,211187094,290458620,967455509,280038443,479616590,227439741,611673922,663300158,483415623,163181816,163264746,469615090,425729296,89971705,452051038,202290018,516914650,926197326,70104530,124285231,880076796,680350603,939550174,225064704,285700976,620948103,343067646,552564732,748011347,331032029,319627027,320419665,443940968,283832428,65564129,370193073,39208854,334164440,554206095,221756624,14423142,270938886,31782954,5562855,56021894,262190244,449082657,433126964,769566024,885208478,945428426,874466936,672929315,150848426,937722844,781524087,232312113,837611454,810456051,779650428,916246192,715055764,121176080,405237970,386588801,724463917,886472726,37934156,292223660,513929035,707228750,37630142,689936858,525182965,772580836,187138689,47982553,432132087,334653287,170570227,282167836,262554207,719958349,566199285,980341817,576691969,967682669,541688939,652419689,224812788,156326019,152776895,433127435,998376211,577823407,495662687,556930593,407386749,371695094,805025083,390596561,311436566,533739456,958032968,659008229,99118084,44809816,767273471,615199308,895309362,141997424,697417950,983000727,528388304,934479514,505215462,894236796,446566353,65535951,222361371,583837527,805500523,77802476,417049608,771242404,656590747,716736304,372783672,728535430,519061662,429261248,290879422,995619140,590733689,637886500,937836462,254572998,227235699,157668295,464618145,596661532,337174934,374206842,572864821,936617207,530604849,603344369,181776523,974894894,968816216,129389124,108312775,602439739,204350050,151053424,927310740,237703100,62844011,462051796,432898205,365214450,709217744,345901493,441229333,885979973,271138485,618306490,775770416,139049149,837031554,524561008,681910440,799758475,154532961,881736135,851036473,146337662,16661954,725938579,715226148,925139087,588474584,344679436,604129200,679569749,7861018,561587790,103924132,234432145,601502659,318203098,10465231,262476452,921334353,758151699,773982337,795114516,90281737,659014338,497696527,190231563,642002290,248306835,692533842,344165080,259936470,180099734,318218536,525184107,628735684,1229758,744762098,934906589,85807504,930699109,195234837,998779110,66596050,915274694,443230841,742000741,31608291,33045122,768224269,860877532,140895331,203736348,306897217,785149938,975158454,296262525,543443338,436275695,343714946,429454960,514652641,220860995,631787826,47473191,490851652,863182335,83262070,402498228,545884980,605211226,714909889,449321617,878614070,807211309,335252426,9311513,449676882,410589560,231157003,983201036,295534999,547320283,210807877,988119823,703405717,83635997,729853946,946166314,554119905,468262057,898647538,512877640,241488789,164192524,894565303,806238906,748206541,506340985,637914904,563779764,569850155,872105797,467056298,373162959,208187987,433917034,194482754,238315653,446817648,24244744,271610236,365363897,457825965,419139040,804715063,391214124,590771901,967590359,152298263,435341577,288084308,788257913,687119874,55859802,190842284,37047668,929794723,76355728,610283265,991328792,20482283,459150335,694796565,116538846,843533194,572670815,337178285,379853022,11062394,189323340,303350289,650584663,135060853,802182599,215473552,100905771,286716538,874086580,191294458,674657376,36541516,68756570,960534308,737388448,368562419,483250918,651458664,188298682,929606201,917705704,581544226,843451679,381225005,458937555,552190772,757198437,523917220,445600641,972486531,752287944,285866163,904163502,424606327,879997604,670633270,594434680,73285759,761925116,319804749,164544230,578707595,558907126,509160409,611105374,68478608,609802333,330351363,741962796,390781448,96793118,193600182,22148866,316727919,695823307,536302368,498017650,580898247,661361435,50035509,649364086,547219221,279486056,422524716,818244585,228805857,447172399,155881216,90690828,743612858,914345620,556260592,794072834,896305328,795011547,952586751,767737683,779148248,455100656,399359604,336025709,867737292,559471328,542761564,550358558,290737960,323563614,285006851,603850780,39078158,432225855,628924031,853578365,309747107,569143806,945310245,243467839,218384272,353691705,242643729,210354113,16440705,890428209,671218083,535628104,372602025,39625038,335488765,273598843,992076605,767174041,160630662,60033000,350004980,675513921,400748905,906279293,795131790,322158871,103925527,319075087,294476106,984566289,320244161,29210582,66582894,734715338,34584031,838202863,90482882,29789184,964659627,837425369,53106197,919674389,667095462,692302841,908851895,672155536,56265491,202709270,140588797,631306905,342329975,750661341,736317121,429461632,812806176,282007390,376307168,480929334,193308314,249123981,44807866,458152146,96550715,75484866,166886580,272403469,448208536,832891193,365071545,997169350,852748558,284796563,660430773,617526144,421779258,146760019,686150425,433550559,233645185,216504418,579594074,644717103,790630793,34291084,239562866,549720541,841601214,152344577,123945566,757862907,797315278,59691733,413119902,367387328,409141549,883968384,354416055,728155398,7286930,770888286,408960948,960855755,867110264,592500015,539246753,696730544,20168862,750822296,606223375,343481213,85887368,785329569,988441236,891322523,210503931,922758198,573965895,336941208,527391621,675960742,47440200,672664743,269079538,249895,375155766,629207581,408612824,216143952,27417783,815394037,42119692,555704221,873511924,426821709,557694763,25140462,859523353,586200807,446078483,872955144,665319386,619032489,480197222,179470098,906060521,43656221,963747086,93050650,547189889,558675186,123575987,633151630,105523422,416270969,431624775,96445123,951739074,714226472,731247995,731344754,250864626,20255259,938815303,439498550,45247415,479289230,182396006,258677775,298278750,222215012,612789207,238591969,183497400,932043683,211892573,41965814,750867099,938111734,910696960,6717560,988700511,20444458,145731723,238573304,157566305,113737137,863467531,726955242,598482307,18420770,644257878,959843110,856059306,700624567,450566786,656355689,422760767,482712781,651401577,270736082,949456303,177377639,236326444,543894629,13713131,577576876,495072429,454956427,380003817,914585957,158550547,743348880,826364193,687581568,548420426,888586532,56470800,619202703,928416128,347963099,922714296,375521098,407041194,961389997,382963230,205993737,452751357,186608758,317105867,813889098,664968309,46524791,252763724,701596465,261014353,174067923,602668722,421227011,5562516,916536083,614826259,114832810,482467718,847611811,389611527,985432628,622976306,652797778,488502827,648618324,857202917,589150934,156654754,247321824,405880501,847568198,219582863,636341073,610045432,983062174,588992668,214746694,394437064,791228479,72874358,216807681,717690246,182883692,108014670,707233000,672576340,237773773,589531225,974861829,784950426,451672560,282066001,350844807,355687041,812914627,373202163,294806079,981253243,373176604,136170367,541583140,726704313,865460273,144777275,652845007,847101107,997144096,413983472,339448576,173791652,595257704,437853035,202184471,882911500,867277422,589360637,951560859,800607532,953734138,257059836}))
}

func numMovesStonesII(stones []int) []int {
	fmt.Println(len(stones))
	sort.Ints(stones)
	min := 0
	t := 0
	for i := 1; i < len(stones) - 2; i++ {
		min += stones[i + 1] - stones[i] - 1
		if stones[i + 1] - stones[i] - 1 > 1 {
			t++
		}
	}
	left := stones[1] - stones[0] - 1
	right := stones[len(stones)-1] - stones[len(stones)-2] - 1
	fmt.Println(stones, left, right, min)
	max := Max(left, right) + min
	if min == 0 {
		if left == 0 && right == 0 {
			min = 0
		} else if right == 0 {
			min = left
			t++
		} else if left == 0 {
			min = right
			t++
		} else {
			min = Min(left, right)
		}
		if min > 2 {
			min = 2
		}
	} else if min == 1 {
		if left > 0 || right > 0 {
			min = 2
		}
	}
	if min > t - 1 {
		min = t - 1
	}
	return []int{min, max}
}

func Max(x, y int) int {
	if x > y {
		return x
	}
	return y
}

func Min(x, y int) int {
	if x < y {
		return x
	}
	return y
}
